<!-- web/src/app/features/auth/pages/forgot-password/forgot-password.component.html -->
<div class="forgot-password-container" *ngIf="!submitted; else confirmation">
  <mat-card>
    <mat-card-title>Forgot Password</mat-card-title>
    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <input matInput placeholder="Enter your registered email" formControlName="email" type="email" required />
          <mat-error *ngIf="form.controls.email.invalid && form.controls.email.touched">
            Please enter a valid email.
          </mat-error>
        </mat-form-field>

        <div class="actions">
          <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid || loading">
            {{ loading ? 'Sending...' : 'Send Reset Link' }}
          </button>
          <button mat-button type="button" (click)="goBack()">Cancel</button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>

<ng-template #confirmation>
  <mat-card>
    <mat-card-title>Check Your Email</mat-card-title>
    <mat-card-content>
      <p>
        If the email you entered is registered, you will receive a password reset link shortly.
      </p>
      <button mat-raised-button color="primary" (click)="goToLogin()">Back to Login</button>
    </mat-card-content>
  </mat-card>
</ng-template>
